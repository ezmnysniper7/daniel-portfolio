import { Experience } from '@/types';

export const experiences: Experience[] = [
  {
    id: 'appnovation-2025',
    company: 'Appnovation',
    companyUrl: 'https://www.appnovation.com',
    position: 'Platform & DevSecOps Engineer',
    location: 'Kuala Lumpur, Malaysia',
    startDate: '2025-09',
    endDate: '2025-11',
    description: 'Building enterprise-grade e-commerce solutions for international clients, specializing in payment gateway integration and ticketing systems. Lead developer for Ocean Park Hong Kong\'s complete ticketing platform overhaul.',
    responsibilities: [
      'Architected and implemented Type Approval (TA) compliant payment status polling system with ScheduledExecutorService and ConcurrentHashMap, polling every 5-10 seconds for up to 30 minutes to ensure regulatory compliance and zero revenue loss',
      'Developed complete A-to-Z ticket purchase flow for Ocean Park Hong Kong, integrating Octopus payment gateway (XML-based protocol) with TAS (Ticketing Administration System) for real-time admission code generation and order management',
      'Built standalone payment gateway microservice (3,680+ lines) with APIP-compliant multi-tenant architecture, HMAC-SHA256 request signing, replay attack prevention, and merchant management serving multiple e-commerce clients',
      'Implemented idempotent fulfillment logic with automated reconciliation jobs running every 15 minutes to handle "paid-but-no-ticket" scenarios, preventing revenue loss and ensuring ticket delivery',
      'Designed secure RESTful APIs with Spring Security 6, JWT authentication, API key-based auth, and comprehensive request validation with constant-time comparison to prevent timing attacks',
      'Created merchant management system with SHA-256 API key hashing, AES-256-GCM secret encryption, automatic key rotation, webhook delivery with retry logic, and dashboard authentication',
    ],
    achievements: [
      'Delivered TA-compliant payment monitoring system meeting Octopus Cards Limited regulatory requirements for production deployment',
      'Architected reusable payment microservice reducing integration time for new clients by 70% through standardized authentication and webhook patterns',
      'Implemented automatic reconciliation preventing revenue loss from network timeouts, system crashes, and failed ticket issuance edge cases',
      'Built comprehensive cryptographic service with SHA-256 hashing, AES-256-GCM encryption, HMAC-SHA256 signatures, and secure random key generation',
    ],
    techStack: [
      'Java 17',
      'Spring Boot 3.4',
      'Spring Security 6',
      'Spring Data JPA',
      'Hibernate',
      'PostgreSQL',
      'HikariCP',
      'JWT',
      'Docker',
      'AWS Secrets Manager',
      'JUnit',
      'Mockito',
      'Maven',
      'XML/JAXB',
    ],
    type: 'full-time',
  },
  {
    id: 'tencent-2024',
    company: 'Tencent',
    companyUrl: 'https://www.tencent.com',
    position: 'Overseas Lead Developer (AMS Team)',
    location: 'Remote',
    startDate: '2024-09',
    endDate: '2025-09',
    description: 'Led overseas development of Advanced Marketing System (AMS) - a critical payment intermediary and game operations platform bridging Midasbuy payments with game servers, managing gift package distribution, points systems, and operational dashboards for Tencent\'s international gaming ecosystem.',
    responsibilities: [
      'Owned and maintained 6 production systems serving millions of players: Props Warehouse (道具仓库), PaaS Interface Platform, Points/Credits System (积分系统), Log Management (mrms-paas-jfcloud-admin), Monitoring Platform (魔镜), and Operations Portal',
      'Delivered 31 feature developments and resolved 20 critical production bugs in first half of 2025, including multi-language template system, self-service export functionality, and gift package workflow optimizations',
      'Performed hourly dashboard monitoring (大盘巡查) across all Kubernetes clusters using 魔镜 (Magic Mirror) and Grafana, tracking request volumes, QPS anomalies (≥20% drops), success rates, and system latency with immediate alert response',
      'Managed complex incident response following SOPs: rollback procedures with dual confirmation, service scaling (扩容), rate limiting (限流), and feature degradation (降级) for high-traffic scenarios with CPU >50%',
      'Troubleshot QPS surges and latency spikes through packet capture analysis (tcpdump), identified large batch operations (20,000+ keys in mget), and implemented request splitting and hot key isolation strategies',
      'Built and maintained PHP/CodeIgniter backend APIs with custom classMethod.php routing, Vue.js frontends, MySQL databases with utf8mb4 charset, and integrated IDIP protocol for game server communication',
      'Conducted root cause analysis and post-mortem reports using 5Why methodology, managed incident groups, coordinated with SRE teams, and published service announcements for union faults',
    ],
    achievements: [
      'Maintained 99.9% uptime for critical overseas gaming operations serving millions of international players across multiple regions',
      'Optimized gift package submission flows fixing broken links, missing redemption content, and data consistency issues across platforms',
      'Added Myanmar language support to AMS reward notification email system, expanding international market reach',
      'Resolved complex login session management bugs affecting multiple game platforms, ensuring accurate user authentication',
      'Implemented warehouse enhancements supporting new delivery types (backpack delivery) and optimized 星图系统 redemption logic',
    ],
    techStack: [
      'PHP 8',
      'CodeIgniter',
      'Golang',
      'Vue.js',
      'JavaScript',
      'MySQL/MariaDB',
      'Kubernetes',
      'Tencent Cloud',
      'TStack',
      'Docker',
      'Redis/CKV',
      'Grafana',
      'Nginx',
      'Firebase',
      'IDIP Protocol',
    ],
    type: 'full-time',
  },
  {
    id: 'corebase-2023',
    company: 'Corebase Technologies',
    position: 'Full-Stack Developer',
    location: 'Malaysia',
    startDate: '2023-06',
    endDate: '2024-09',
    description: 'Full-stack development across multiple client projects, specializing in PHP/CodeIgniter backend architecture, Next.js frontend applications, and database optimization. Led 3-person team building Ufootball platform and delivered significant performance improvements for external client systems.',
    responsibilities: [
      'Architected and developed Ufootball platform (3-layer architecture) with 3-person team: public website (Next.js/React/TypeScript with SSR), backend API (PHP/CodeIgniter), and admin panel (Back Office) connected to MySQL/MariaDB with utf8mb4 charset',
      'Implemented comprehensive SEO optimization with meta tags, semantic HTML structure, URL optimization, and server-side rendering, significantly increasing website traffic and search visibility',
      'Optimized SQL queries for external client ticketing system achieving 95% performance improvement through strategic indexing, query restructuring (USE INDEX), and eliminating full table scans on high-volume tables',
      'Built multi-language content management system with separate *_lang tables for localized content, locale-based API endpoints with GBK to UTF8 conversion, and language-aware fetching supporting English and Chinese (next-i18next)',
      'Integrated Firebase Cloud Messaging for push notifications with MySQL-backed token management (tbl_firebase_token), AWS SDK for cloud services, and Sentry for error tracking',
      'Developed incident management and change management modules for external client ticketing system, implementing reporting functionality and business logic algorithms',
      'Managed direct client communications throughout project lifecycle: requirement gathering, solution customization, feedback iterations, and regular progress updates',
      'Rebuilt company website from existing boilerplate, customizing design and enhancing usability for business requirements',
    ],
    achievements: [
      '95% improvement in SQL query performance for ticketing report system through indexing and query optimization, drastically reducing execution time from minutes to seconds',
      'Successfully launched Ufootball platform with custom event navigation, iframe embeddings for live events, YouTube video integration, and pagination for news articles',
      'Delivered complete incident and change management modules with reporting capabilities for external client, ensuring timely data access and improved operational efficiency',
      'Implemented server-side rendering (SSR) with Next.js improving initial page load performance and SEO rankings',
    ],
    techStack: [
      'PHP 8',
      'CodeIgniter',
      'Next.js',
      'React',
      'TypeScript',
      'JavaScript',
      'MySQL/MariaDB',
      'AWS SDK',
      'Firebase',
      'Sentry',
      'next-i18next',
      'HTML/CSS',
      'mysqli',
    ],
    type: 'full-time',
  },
  {
    id: 'internship-2022',
    company: 'Software Development Company',
    position: 'Software Engineering Intern',
    location: 'Kuching, Sarawak',
    startDate: '2022-11',
    endDate: '2023-02',
    description: 'University internship focused on learning software development fundamentals through XML processing, API development, and testing.',
    responsibilities: [
      'Performed XML tagging for legal document processing',
      'Created basic RESTful APIs as learning exercises',
      'Conducted API testing using Postman',
      'Assisted in building attendance tracking system',
    ],
    techStack: ['XML', 'RESTful APIs', 'Postman'],
    type: 'internship',
  },
];
